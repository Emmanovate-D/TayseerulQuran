<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Admin Dashboard - TayseerulQuran</title>
    <meta name="robots" content="noindex, follow" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="shortcut icon" type="image/x-icon" href="assets/images/favicon.ico">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="assets/css/plugins/icofont.min.css">
    <link rel="stylesheet" href="assets/css/plugins/flaticon.css">
    <link rel="stylesheet" href="assets/css/plugins/font-awesome.min.css">
    <link rel="stylesheet" href="assets/css/plugins/animate.min.css">
    <link rel="stylesheet" href="assets/css/plugins/swiper-bundle.min.css">
    <link rel="stylesheet" href="assets/css/plugins/magnific-popup.css">
    <link rel="stylesheet" href="assets/css/plugins/nice-select.css">
    <link rel="stylesheet" href="assets/css/plugins/apexcharts.css">
    <link rel="stylesheet" href="assets/css/style.css">
</head>

<body>

    <div class="main-wrapper main-wrapper-02">

        <!-- Login Header Start -->
        <div class="section login-header">
            <div class="login-header-wrapper navbar navbar-expand">
                <div class="login-header-logo">
                    <a href="admin-dashboard.html"><img src="assets/images/logo-icon.png" alt="Logo"></a>
                </div>
                <div class="login-header-action ml-auto">
                    <a class="action author" href="#">
                        <img src="assets/images/author/author-09.jpg" alt="Author">
                    </a>
                    <div class="dropdown">
                        <button class="action more" data-bs-toggle="dropdown">
                            <span></span>
                            <span></span>
                            <span></span>
                        </button>
                        <ul class="dropdown-menu">
                            <li><a href="#"><i class="icofont-user"></i> Profile</a></li>
                            <li><a href="login.html"><i class="icofont-logout"></i> Sign Out</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Admin Dashboard Start -->
        <div class="section overflow-hidden position-relative" id="wrapper">
            <div class="sidebar-wrapper">
                <div class="menu-list">
                    <a class="active" href="admin-dashboard.html" title="Dashboard"><img src="assets/images/menu-icon/icon-3.png" alt="Icon"></a>
                    <a href="" title="Courses" data-permission="view_courses"><img src="assets/images/menu-icon/icon-1.png" alt="Icon"></a>
                    <a href="" title="Students" data-permission="view_students"><img src="assets/images/menu-icon/icon-2.png" alt="Icon"></a>
                    <a href="" title="Tutors" data-permission="view_tutors"><img src="assets/images/menu-icon/icon-4.png" alt="Icon"></a>
                    <a href="" title="Payments" data-permission="view_payments"><img src="assets/images/menu-icon/icon-5.png" alt="Icon"></a>
                </div>
            </div>

            <div class="page-content-wrapper py-0">
                <div class="nav flex-column nav-pills admin-tab-menu">
                    <a href="admin-dashboard.html" class="active">Dashboard</a>
                    <a href="" data-permission="view_courses">Courses</a>
                    <a href="" data-permission="view_students">Students</a>
                    <a href="" data-permission="view_tutors">Tutors</a>
                    <a href="" data-permission="view_payments">Payments</a>
                </div>

                <div class="main-content-wrapper">
                    <div class="container-fluid">
                        <div class="admin-top-bar flex-wrap mb-4">
                            <div>
                                <h3 class="title mb-2">Admin Dashboard</h3>
                                <p class="text-muted">Welcome! Your assigned permissions determine what you can access.</p>
                            </div>
                            <div class="badge bg-info p-2" id="current-role">ADMIN</div>
                        </div>

                        <!-- Permission Info -->
                        <div class="alert alert-info mb-4">
                            <i class="icofont-info-circle"></i> <strong>Note:</strong> Your access is limited based on permissions assigned by the Super Admin. Some features may not be available.
                        </div>

                        <!-- Stats Cards -->
                        <div class="row mb-4">
                            <div class="col-xl-3 col-md-6 mb-4" data-permission="view_courses">
                                <div class="card border-0 shadow-sm">
                                    <div class="card-body">
                                        <div class="d-flex justify-content-between align-items-center">
                                            <div>
                                                <h6 class="text-muted mb-2">Total Courses</h6>
                                                <h3 class="mb-0">156</h3>
                                            </div>
                                            <div class="bg-primary bg-opacity-10 rounded-circle p-3">
                                                <i class="flaticon-book text-primary" style="font-size: 2rem;"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-xl-3 col-md-6 mb-4" data-permission="view_students">
                                <div class="card border-0 shadow-sm">
                                    <div class="card-body">
                                        <div class="d-flex justify-content-between align-items-center">
                                            <div>
                                                <h6 class="text-muted mb-2">Total Students</h6>
                                                <h3 class="mb-0">2,847</h3>
                                            </div>
                                            <div class="bg-success bg-opacity-10 rounded-circle p-3">
                                                <i class="flaticon-user text-success" style="font-size: 2rem;"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-xl-3 col-md-6 mb-4" data-permission="view_tutors">
                                <div class="card border-0 shadow-sm">
                                    <div class="card-body">
                                        <div class="d-flex justify-content-between align-items-center">
                                            <div>
                                                <h6 class="text-muted mb-2">Total Tutors</h6>
                                                <h3 class="mb-0">45</h3>
                                            </div>
                                            <div class="bg-warning bg-opacity-10 rounded-circle p-3">
                                                <i class="flaticon-teacher text-warning" style="font-size: 2rem;"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-xl-3 col-md-6 mb-4" data-permission="view_payments">
                                <div class="card border-0 shadow-sm">
                                    <div class="card-body">
                                        <div class="d-flex justify-content-between align-items-center">
                                            <div>
                                                <h6 class="text-muted mb-2">Total Revenue</h6>
                                                <h3 class="mb-0">$45,892</h3>
                                            </div>
                                            <div class="bg-info bg-opacity-10 rounded-circle p-3">
                                                <i class="flaticon-money text-info" style="font-size: 2rem;"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Quick Actions -->
                        <div class="row mb-4">
                            <div class="col-12">
                                <div class="card border-0 shadow-sm">
                                    <div class="card-header bg-white border-0 py-3">
                                        <h5 class="mb-0">Quick Actions</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col-md-3 mb-3">
                                                <a href="super-admin-courses.html?action=add" class="btn btn-sm btn-primary w-100 px-3 py-2 small" data-permission="add_course" style="font-size: 0.75rem;">
                                                    <i class="icofont-plus me-1"></i> Add New Course
                                                </a>
                                            </div>
                                            <div class="col-md-3 mb-3">
                                                <a href="super-admin-tutors.html" class="btn btn-sm btn-warning w-100 px-3 py-2 small" data-permission="approve_tutor" style="font-size: 0.75rem;">
                                                    <i class="icofont-check me-1"></i> Approve Tutors
                                                </a>
                                            </div>
                                            <div class="col-md-3 mb-3">
                                                <a href="super-admin-blog.html?action=add" class="btn btn-sm btn-success w-100 px-3 py-2 small" data-permission="create_blog_post" style="font-size: 0.75rem;">
                                                    <i class="icofont-edit me-1"></i> Create Blog Post
                                                </a>
                                            </div>
                                            <div class="col-md-3 mb-3">
                                                <a href="super-admin-students.html" class="btn btn-sm btn-info w-100 px-3 py-2 small" data-permission="assign_students_to_teachers" style="font-size: 0.75rem;">
                                                    <i class="icofont-user me-1"></i> Assign Students
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Recent Activity -->
                        <div class="row">
                            <div class="col-lg-8 mb-4">
                                <div class="card border-0 shadow-sm">
                                    <div class="card-header bg-white border-0 py-3">
                                        <h5 class="mb-0">Recent Activity</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="list-group list-group-flush">
                                            <div class="list-group-item border-0 px-0">
                                                <div class="d-flex justify-content-between">
                                                    <div>
                                                        <h6 class="mb-1">New course added</h6>
                                                        <small class="text-muted">2 hours ago</small>
                                                    </div>
                                                    <span class="badge bg-success">Completed</span>
                                                </div>
                                            </div>
                                            <div class="list-group-item border-0 px-0">
                                                <div class="d-flex justify-content-between">
                                                    <div>
                                                        <h6 class="mb-1">Tutor approved</h6>
                                                        <small class="text-muted">5 hours ago</small>
                                                    </div>
                                                    <span class="badge bg-success">Completed</span>
                                                </div>
                                            </div>
                                            <div class="list-group-item border-0 px-0">
                                                <div class="d-flex justify-content-between">
                                                    <div>
                                                        <h6 class="mb-1">Blog post published</h6>
                                                        <small class="text-muted">1 day ago</small>
                                                    </div>
                                                    <span class="badge bg-success">Completed</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-4 mb-4">
                                <div class="card border-0 shadow-sm">
                                    <div class="card-header bg-white border-0 py-3">
                                        <h5 class="mb-0">Your Permissions</h5>
                                    </div>
                                    <div class="card-body">
                                        <div id="permissionsList">
                                            <p class="text-muted">Loading permissions...</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <a href="#" class="back-to-top">
            <i class="icofont-simple-up"></i>
        </a>

    </div>

    <script src="assets/js/vendor/modernizr-3.11.2.min.js"></script>
    <script src="assets/js/vendor/jquery-3.5.1.min.js"></script>
    <script src="assets/js/plugins.min.js"></script>
    <script src="assets/js/main.js"></script>
    <script src="assets/js/role-access-control.js"></script>
    <script>
        // Set admin role with sample permissions
        localStorage.setItem('userRole', 'admin');
        const adminPermissions = [
            'view_courses', 'add_course', 'edit_course',
            'view_students', 'view_student_profile', 'assign_students_to_teachers',
            'view_tutors', 'approve_tutor', 'view_tutor_profile',
            'view_payments',
            'view_blog_posts', 'create_blog_post', 'edit_blog_post'
        ];
        localStorage.setItem('userPermissions', JSON.stringify(adminPermissions));
        
        // Display permissions
        document.addEventListener('DOMContentLoaded', function() {
            const permissions = RoleAccessControl.getPermissions();
            const permissionsList = document.getElementById('permissionsList');
            if (permissions.length > 0) {
                permissionsList.innerHTML = '<ul class="list-unstyled mb-0">' + 
                    permissions.map(perm => {
                        const permName = RoleAccessControl.permissions[perm] || perm;
                        return `<li class="mb-2"><i class="icofont-check-circled text-success"></i> ${permName}</li>`;
                    }).join('') + 
                    '</ul>';
            } else {
                permissionsList.innerHTML = '<p class="text-muted">No permissions assigned yet.</p>';
            }
        });
    </script>

</body>

</html>

